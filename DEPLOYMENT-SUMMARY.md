# ๐ ุฎูุงุตู ุฏูพูู iranche.com

## โ ฺฉุงุฑูุง ุงูุฌุงู ุดุฏู

### 1. ูุงูโูุง ุฏูพูู ุงุฌุงุฏ ุดุฏู

ุชูุงู ูุงูโูุง ูุงุฒู ุจุฑุง ุฏูพูู ูพุฑูฺู Next.js ุดูุง ุฑู ุณุฑูุฑ Alma Linux ุงุฌุงุฏ ุดุฏู ู ุฏุฑ ูพูุดู `deploy/` ูุฑุงุฑ ุฏุงุฑูุฏ:

```
deploy/
โโโ START-HERE.md              โญ ุดุฑูุน ุงุฒ ุงูุฌุง
โโโ MANUAL-STEPS-FARSI.md     ๐ ุฑุงูููุง ฺฉุงูู ูุงุฑุณ
โโโ CONNECTION-GUIDE.md        ๐ ุฑุงูููุง ุญู ูุดฺฉู ุงุชุตุงู
โโโ README.md                  ๐ ูุณุชูุฏุงุช ฺฉุงูู
โโโ quick-deploy.md            โก ุฑุงูููุง ุณุฑุน
โโโ server-setup.sh            ๐ง ูุตุจ Node.js, Nginx, PM2
โโโ deploy-app.sh              ๐ ุฏูพูู ุจุฑูุงูู Next.js
โโโ setup-nginx.sh             ๐ ุชูุธู Nginx
โโโ setup-ssl.sh               ๐ ูุตุจ SSL/HTTPS
โโโ full-deploy.sh             ๐ฏ ุงุฌุฑุง ุชูุงู ูุฑุงุญู
โโโ nginx-iranche.conf         โ๏ธ  ฺฉุงููฺฏ Nginx
โโโ deploy-from-windows.ps1    ๐ป ุงุณฺฉุฑูพุช ุฎูุฏฺฉุงุฑ ููุฏูุฒ
โโโ deploy-manual.ps1          ๐ฅ๏ธ  ุงุชุตุงู SSH ุณุงุฏู
```

### 2. ุชูุธูุงุช Next.js ุจูููโุณุงุฒ ุดุฏู

ูุงู `public-frontend/next.config.mjs` ุจูโุฑูุฒุฑุณุงู ุดุฏ:
- โ ุชูุธูุงุช images ุจู remotePatterns ุฌุฏุฏุชุฑ ุชุจุฏู ุดุฏ
- โ ุจูููโุณุงุฒโูุง production ุญูุธ ุดุฏ

### 3. ุชูุงู ูุงูโูุง ุฏุฑ GitHub ูุฑุงุฑ ฺฏุฑูุชูุฏ

ููู ฺุฒ commit ู push ุดุฏู ุจู:
```
https://github.com/electera-top/iranche.git
```

---

## ๐ ูุฑุงุญู ุจุนุฏ (ุงูุฌุงู ุฏูุฏ)

### โ๏ธ ูุดฺฉู ุงุชุตุงู

**ุงุชุตุงู ุฎูุฏฺฉุงุฑ ุจู ุณุฑูุฑ ฺฉุงุฑ ูฺฉุฑุฏ.** ุงุญุชูุงูุงู:
- ูพูุฑุช **12111002** ุดูุงุฑู ูพุณูุฑุฏ ุงุณุชุ ูู ูพูุฑุช SSH
- ูพูุฑุช SSH ูุงูุน ูุนูููุงู **22** ุงุณุช

---

## ๐ฏ ุฏุณุชูุฑุงูุนูู ุณุงุฏู: ุดุฑูุน ุงุฒ ุงูุฌุง

### ูุฑุญูู 1: ุงุชุตุงู ุจู ุณุฑูุฑ

**ุฑูุด A: ุจุง PuTTY (ุขุณุงูโุชุฑู)**

1. ุฏุงูููุฏ ู ูุตุจ PuTTY: https://www.putty.org/
2. ุจุงุฒ ฺฉุฑุฏู PuTTY
3. ูุงุฑุฏ ฺฉุฑุฏู:
   - **Host Name:** `178.239.147.72`
   - **Port:** `22` (ุงูู ุงู ุฑุง ุงูุชุญุงู ฺฉูุฏ)
   - ฺฉูฺฉ ุฑู **Open**
4. ูุงุฑุฏ ฺฉุฑุฏู:
   - **login as:** `root`
   - **password:** `12111002` (ุง ูุฑ password ุฏฺฏุฑ ฺฉู ุฏุงุฑุฏ)

**ุฑูุด B: ุจุง PowerShell**

```powershell
# ุงูู ุงู ุฑุง ุงูุชุญุงู ฺฉูุฏ
ssh root@178.239.147.72

# ุงฺฏุฑ ฺฉุงุฑ ูฺฉุฑุฏุ ูพูุฑุช custom ุฑุง ุงูุชุญุงู ฺฉูุฏ
ssh -p 12111002 root@178.239.147.72
```

---

### ูุฑุญูู 2: ุฏูพูู ูพุฑูฺู

**ุจุนุฏ ุงุฒ ุงุชุตุงู ุจู ุณุฑูุฑุ ุงู ุฏุณุชูุฑุงุช ุฑุง ฺฉูพ ู paste ฺฉูุฏ:**

```bash
# ูุตุจ Git
dnf install -y git

# ฺฉููู ูพุฑูฺู
cd /root
git clone https://github.com/electera-top/iranche.git
cd iranche/deploy

# ุงุฌุฑุง ุฏูพูู
chmod +x *.sh
./full-deploy.sh
```

ุงุณฺฉุฑูพุช `full-deploy.sh`:
1. โ Node.js 20, Nginx, PM2 ุฑุง ูุตุจ ูโฺฉูุฏ
2. โ ุจุฑูุงูู ุฑุง build ูโฺฉูุฏ
3. โ ุจุง PM2 ุงุฌุฑุง ูโฺฉูุฏ
4. โ Nginx ุฑุง ุชูุธู ูโฺฉูุฏ
5. โ ูโูพุฑุณุฏ ุขุง SSL ูุตุจ ุดูุฏ (ููุท ุงฺฏุฑ DNS ุขูุงุฏู ุงุณุช)

**โฑ๏ธ ุฒูุงู ุชูุฑุจ:** 10-15 ุฏููู

---

### ูุฑุญูู 3: ุจุฑุฑุณ ุณุงุช

ุจุนุฏ ุงุฒ ุงุชูุงู ุฏูพููุ ุณุงุช ุฏุฑ ุงู ุขุฏุฑุณ ุฏุฑ ุฏุณุชุฑุณ ุงุณุช:

```
http://iranche.com
```

ุฏุฑ ูุฑูุฑฺฏุฑ ุจุงุฒ ฺฉูุฏ ู ุจุฑุฑุณ ฺฉูุฏ.

---

### ูุฑุญูู 4: SSL/HTTPS (ุงุฎุชุงุฑ)

โ๏ธ **ููุท ุงฺฏุฑ DNS ุขูุงุฏู ุงุณุช** (iranche.com ุจู 178.239.147.72 ุงุดุงุฑู ูโฺฉูุฏ)

```bash
cd /root/iranche/deploy
./setup-ssl.sh
```

ุจุนุฏ ุงุฒ ูุตุจ SSL:
```
https://iranche.com
```

---

## ๐ ุฑุงูููุงูุง ููุฌูุฏ

ุงฺฏุฑ ูุดฺฉู ูพุด ุขูุฏุ ุงู ูุงูโูุง ุฑุง ุจุฎูุงูุฏ:

1. **`deploy/START-HERE.md`**
   - ุฑุงูููุง ุดุฑูุน ุณุฑุน
   - ุชูุถุญุงุช ฺฉุงูู ูุฑ ูุฑุญูู

2. **`deploy/MANUAL-STEPS-FARSI.md`**
   - ุฏุณุชูุฑุงูุนูู ฺฉุงูู ูุงุฑุณ
   - ุนุจโุงุจ ุชูุงู ูุดฺฉูุงุช
   - ฺฺฉโูุณุช ฺฉุงูู

3. **`deploy/CONNECTION-GUIDE.md`**
   - ุฑุงูููุง ุญู ูุดฺฉู ุงุชุตุงู SSH
   - ุจุฑุฑุณ ูพูุฑุชโูุง ู ูุงุฑูุงู
   - ุฑูุดโูุง ูุฎุชูู ุงุชุตุงู

4. **`deploy/README.md`**
   - ูุณุชูุฏุงุช ูู ฺฉุงูู
   - ุฏุณุชูุฑุงุช ูุฏุฑุช ุณุฑูุฑ
   - ุฑุงูููุง ูพุดุชุจุงู ู backup

---

## ๐ ุจุฑุฑุณ DNS

ูุจู ุงุฒ ูุตุจ SSLุ ูุทูุฆู ุดูุฏ DNS ุฏุฑุณุช ุงุณุช:

### ุฏุฑ ฺฉุงููพูุชุฑ ุฎูุฏุชุงู:

**Windows PowerShell:**
```powershell
nslookup iranche.com
```

**Linux/Mac:**
```bash
dig iranche.com
```

ุจุงุฏ IP ุณุฑูุฑ (`178.239.147.72`) ุฑุง ูุดุงู ุฏูุฏ.

### ุงฺฏุฑ DNS ุฏุฑุณุช ูุณุช:

1. ูุงุฑุฏ ูพูู DNS ุฏุงููู ุดูุฏ
2. ฺฉ **A Record** ุจุณุงุฒุฏ:
   - **Type:** A
   - **Name:** @ (ุจุฑุง iranche.com)
   - **Value:** 178.239.147.72
   - **TTL:** 3600
3. ฺฉ A Record ุฏฺฏุฑ ุจุฑุง www:
   - **Type:** A
   - **Name:** www
   - **Value:** 178.239.147.72
   - **TTL:** 3600

โฑ๏ธ **DNS Propagation:** 1-24 ุณุงุนุช ุทูู ูโฺฉุดุฏ

---

## ๐๏ธ ุฏุณุชูุฑุงุช ููุฏ ุจุนุฏ ุงุฒ ุฏูพูู

### ูุฏุฑุช ุจุฑูุงูู

```bash
pm2 status                      # ูุถุนุช ุจุฑูุงูู
pm2 logs iranche-frontend       # ูุดุงูุฏู ูุงฺฏโูุง
pm2 restart iranche-frontend    # ุฑโุงุณุชุงุฑุช
pm2 monit                       # ูุงูุชูุฑูฺฏ ุฒูุฏู
```

### ุจูโุฑูุฒุฑุณุงู ุจุฑูุงูู

```bash
cd /root/iranche/deploy
./deploy-app.sh
```

### ูุฏุฑุช Nginx

```bash
systemctl status nginx          # ูุถุนุช
systemctl reload nginx          # reload
nginx -t                        # ุชุณุช ุชูุธูุงุช
```

---

## โ ฺฺฉโูุณุช

- [ ] ุชูุงูุณุชู ุจู ุณุฑูุฑ SSH ูุชุตู ุดูู
- [ ] Git ูุตุจ ุดุฏ
- [ ] ูพุฑูฺู ุงุฒ GitHub ฺฉููู ุดุฏ
- [ ] ุงุณฺฉุฑูพุช `./full-deploy.sh` ุงุฌุฑุง ุดุฏ
- [ ] PM2 ุจุฑูุงูู ุฑุง ุงุฌุฑุง ูโฺฉูุฏ (`pm2 status`)
- [ ] ุณุงุช ุฏุฑ `http://iranche.com` ฺฉุงุฑ ูโฺฉูุฏ
- [ ] DNS ุจู ุณุฑูุฑ ุงุดุงุฑู ูโฺฉูุฏ (ุงุฎุชุงุฑ ุจุฑุง SSL)
- [ ] SSL ูุตุจ ุดุฏ (ุงุฎุชุงุฑ)
- [ ] ุณุงุช ุฏุฑ `https://iranche.com` ฺฉุงุฑ ูโฺฉูุฏ (ุงฺฏุฑ SSL ูุตุจ ฺฉุฑุฏุฏ)

---

## ๐ ุงฺฏุฑ ูุดฺฉู ูพุด ุขูุฏ

### 1. ููโุชูุงูู ุจู ุณุฑูุฑ ูุชุตู ุดูู
โก๏ธ ุจุฎูุงูุฏ: `deploy/CONNECTION-GUIDE.md`

### 2. ุฏูพูู ุจุง ุฎุทุง ููุงุฌู ุดุฏ
```bash
pm2 logs iranche-frontend --err
```
โก๏ธ ุจุฎูุงูุฏ: `deploy/MANUAL-STEPS-FARSI.md` (ุจุฎุด ุนุจโุงุจ)

### 3. Nginx ฺฉุงุฑ ููโฺฉูุฏ
```bash
nginx -t
tail -f /var/log/nginx/error.log
```

### 4. DNS ฺฉุงุฑ ููโฺฉูุฏ
- ุจุฑุฑุณ ฺฉูุฏ DNS ุจู IP ุณุฑูุฑ ุงุดุงุฑู ูโฺฉูุฏ
- ุตุจุฑ ฺฉูุฏ 24 ุณุงุนุช ุจุฑุง propagation
- ุงุฒ `nslookup iranche.com` ุงุณุชูุงุฏู ฺฉูุฏ

---

## ๐ ุจุนุฏ ุงุฒ ุฏูพูู ูููู

ุณุงุช ุดูุง ุงูุงู ุฒูุฏู ุงุณุช! ๐

**ฺุฒูุง ฺฉู ุจุงุฏ ุงูุฌุงู ุฏูุฏ:**

1. โ ุชุณุช ฺฉุงูู ุณุงุช
2. โ ูุตุจ SSL ุงฺฏุฑ ูููุฒ ูุตุจ ูฺฉุฑุฏุฏ
3. โ ุชุบุฑ ูพุณูุฑุฏ root ุณุฑูุฑ
4. โ ุชูุธู backup ุฎูุฏฺฉุงุฑ
5. โ ูุตุจ ูุงูุชูุฑูฺฏ (ุงุฎุชุงุฑ)

---

## ๐ ุงุทูุงุนุงุช ุณุฑูุฑ

- **IP:** 178.239.147.72
- **SSH Port:** 22 (ุงุญุชูุงูุงู) ุง 12111002
- **User:** root
- **Domain:** iranche.com
- **App Path:** /var/www/iranche/public-frontend
- **App Port:** 3000 (localhost only)
- **Web Ports:** 80 (HTTP), 443 (HTTPS)

---

## ๐ ุงุฏุขูุฑโูุง ููู

1. **ูพูุฑุช 12111002** ุงุญุชูุงูุงู PASSWORD ุงุณุชุ ูู ูพูุฑุช SSH
2. **ูพูุฑุช SSH** ูุนูููุงู **22** ุงุณุช
3. **DNS** ุจุงุฏ ูุจู ุงุฒ ูุตุจ SSL ุขูุงุฏู ุจุงุดุฏ
4. **Backup** ุฎู ููู ุงุณุช - ุญุชูุงู backup ุจฺฏุฑุฏ
5. **ูพุณูุฑุฏ root** ุฑุง ุจุนุฏ ุงุฒ ุฏูพูู ุชุบุฑ ุฏูุฏ

---

**ูููู ุจุงุดุฏ! ุงฺฏุฑ ุณูุงู ุฏุงุฑุฏุ ูุงูโูุง ุฑุงูููุง ุฑุง ุจุฎูุงูุฏ.** ๐

---

## ๐ง ููฺฉโูุง ููุฏ

- **Repository:** https://github.com/electera-top/iranche.git
- **Site:** http://iranche.com (ุจุนุฏ ุงุฒ ุฏูพูู)
- **Site (HTTPS):** https://iranche.com (ุจุนุฏ ุงุฒ ูุตุจ SSL)

---

**ุขุฎุฑู ุจูโุฑูุฒุฑุณุงู:** 2025-11-07

